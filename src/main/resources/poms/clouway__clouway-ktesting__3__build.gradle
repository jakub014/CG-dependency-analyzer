group 'com.clouway.testing'
description 'clouway-ktesting-sitebricks'

buildscript {
  repositories {
    mavenCentral()
  }

  dependencies {
    classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinPluginVersion"
  }
}

apply plugin: 'java'
apply plugin: 'kotlin'

sourceCompatibility = 1.7

repositories {
  mavenCentral()
}

configurations {
  providedCompile
}

dependencies {
  compile "org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlinSdkVersion"

  compile 'com.google.guava:guava:18.0'
 
   compile 'javax.servlet:servlet-api:2.5'
 
   compile('com.google.sitebricks:sitebricks:0.8.11') {
     exclude module: 'jackson-databind'
     exclude module: 'annotations'
     exclude module: 'sitebricks-client'
     exclude module: 'sitebricks-converter'
     exclude module: 'sitebricks-annotations'
     exclude module: 'async-http-client'
     exclude module: 'jcip-annotations'
   }
 
   compile('com.google.sitebricks:sitebricks-client:0.8.11') {
     exclude module: 'guice-servlet'
     exclude module: 'jackson-databind'
     exclude module: 'sitebricks-converter'
     exclude module: 'async-http-client'
     exclude module: 'jcip-annotations'
     exclude module: 'xstream'
   }
   
   compile 'junit:junit:4.11'
   compile group: 'org.hamcrest', name: 'hamcrest-library', version: '1.3'
   compile 'com.github.tomakehurst:wiremock:1.58'
   compile 'com.clouway.testing:clouway-ktesting-json:0.0.1'
}

javadoc {
  failOnError = false
  classpath = configurations.compile + configurations.providedCompile
}
