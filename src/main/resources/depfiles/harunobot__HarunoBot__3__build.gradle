
plugins {
  id "io.vertx.vertx-plugin" version "1.1.3"
}
plugins {
  id "org.checkerframework" version "0.5.12"
}

archivesBaseName = "haruno-console"
version = "0.1-beta"
description = 'Haruno Console'

jar {
    enabled = true
    baseName = archivesBaseName
//    classifier = ''
    manifest {
        attributes 'Implementation-Title': 'Haruno plugin manager', 'Implementation-Version': version
    }
}

vertx {
    vertxVersion = "3.9.4"
    
    launcher = 'io.github.harunobot.console.BotLaucher'
    mainVerticle = "io.github.harunobot.console.BotVerticle"
//    launcher = 'io.vertx.core.Launcher'
//    mainVerticle = 'io.github.harunobot.console.BotVerticle'
  
}

repositories {
    mavenCentral()
    jcenter()
    maven {
        url "https://repo1.maven.org/maven2/"
    }
}

test {
    useJUnit()
}

//https://github.com/howmanybots/onebot/blob/master/v11/specs/README.md

dependencies {
    implementation 'org.iharu.bootstrap:iharu-foundation:0.2.0-beta'
    
    implementation project(":haruno-core")
    implementation project(":haruno-core-support")
    implementation project(":haruno-annotation-support")
    implementation project(":haruno-plugin-support")
//    implementation project(":haruno-database-support")
    
    runtimeOnly group: 'ch.qos.logback', name: 'logback-classic', version: '1.2.3'
    implementation group: 'org.fusesource.jansi', name: 'jansi', version: '1.18'
    implementation group: 'com.fasterxml.jackson.dataformat', name: 'jackson-dataformat-yaml', version: '2.11.2'

//    implementation 'io.vertx:vertx-core:3.9.3'
    implementation "io.vertx:vertx-web"
    implementation 'com.lmax:disruptor:3.4.2'
    implementation group: 'com.github.ben-manes.caffeine', name: 'caffeine', version: '2.8.1'
    
//    https://stackoverflow.com/questions/148681/unloading-classes-in-java
//    https://stackoverflow.com/questions/259140/scanning-java-annotations-at-runtime
//    implementation 'org.xeustechnologies:jcl-core:2.8'
//    implementation 'org.reflections:reflections:0.9.11'
    implementation 'org.atteo.classindex:classindex:3.9'
    
    implementation 'dk.brics:automaton:1.12-1'
    
//    testImplementation group: 'ch.qos.logback', name: 'logback-classic', version: '1.2.3'
    testImplementation 'org.iharu.bootstrap:iharu-foundation:0.2.0-beta'
    testImplementation 'org.xeustechnologies:jcl-core:2.8'
//    testImplementation project(":haruno-plugin-support")
}


